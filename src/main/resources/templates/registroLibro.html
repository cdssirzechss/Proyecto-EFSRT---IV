<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Registro de usuarios</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<style>
		body {
			background-color: #f8f9fa;
			padding-top: 70px;
			/* compensates for fixed navbar */
		}

		.navbar {
			background-color: #343a40 !important;
		}

		.navbar-brand {
			color: #ffffff !important;
			font-weight: bold;
		}

		.form-group {
			margin-bottom: 20px;
		}

		label {
			font-weight: bold;
		}

		input[type="text"],
		input[type="email"],
		input[type="password"],
		select {
			width: 100%;
			padding: 10px;
			border: 1px solid #ced4da;
			border-radius: 4px;
			box-sizing: border-box;
		}

		button[type="submit"] {
			background-color: #007bff;
			color: #ffffff;
			border: none;
			padding: 10px 20px;
			border-radius: 4px;
			cursor: pointer;
		}

		button[type="submit"]:hover {
			background-color: #0056b3;
		}

		a {
			color: #007bff;
		}
	</style>
</head>

<body th:attr="onload=${(editar == null ? 'fechabase()' : '')}" >
	<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
		<div class="container">
			<a class="navbar-brand" href="#" th:href="@{/}">Inicio</a>
		</div>
	</nav>
	<br>
	<br>
	<div class="container">
		<div class="row">
			<div class="col-md-6 mx-auto">
				<div th:if="${param.fallo}">
					<div class="alert alert-info">Ese email ya esta en uso</div>
				</div>

				<h1>Regístrate</h1>
				<form th:action="@{/libro/registro}" method="post" th:object="${libro}">
					<div class="form-group" th:if="${editar}">
						<label class="control-label" for="id">ID : </label>
						<input id="id" type="text" class="form-control" th:field="*{id}" readonly autofocus="autofocus">
					</div>
					<div class="form-group">
						<label class="control-label" for="titulo">Titulo : </label>
						<input id="titulo" type="text" class="form-control" th:field="*{titulo}" required
							autofocus="autofocus">
					</div>
					<div class="form-group">
						<label class="control-label" for="descripcion">Descripcion : </label>
						<textarea id="descripcion" class="form-control" th:field="*{descripcion}" required
							autofocus="autofocus"> </textarea>
					</div>

					<div class="form-group">
						<label class="control-label" for="fecha_publicacion">Fecha de Publicacion: </label>
						<input id="fecha_publicacion" type="date" class="form-control"
							th:field="*{infoadicional.fecha_publicacion}" required autofocus="autofocus">
					</div>

					<div class="form-group">
						<label class="control-label" for="autor">Autor:</label>
						<select id="autor" class="form-control" th:field="*{autor}">
							<option th:each="autor : ${listaautor}" th:value="${autor.id}" th:text="${autor.nombre}">
							</option>
						</select>
					</div>

					<div class="form-group">
						<label class="control-label" for="editorial">Editorial:</label>
						<select id="editorial" class="form-control" th:field="*{editorial}">
							<option th:each="editorial : ${listaeditorial}" th:value="${editorial.id}"
								th:text="${editorial.nombre}"></option>
						</select>
					</div>

					<div class="form-group">
						<label class="control-label" for="categoria">Categoria:</label>
						<select id="categoria" class="form-control" th:field="*{categoria}">
							<option th:each="categoria : ${listacategoria}" th:value="${categoria.id}"
								th:text="${categoria.nombre}"></option>
						</select>
					</div>

					<div class="form-group">
						<label class="control-label" for="idioma">Idioma:</label>
						<select id="idioma" class="form-control" th:field="*{infoadicional.idioma}">
							<option value="Español">Español</option>
							<option value="Inglés">Inglés</option>
							<option value="Francés">Francés</option>
							<option value="Alemán">Alemán</option>
							<option value="Italiano">Italiano</option>
							<option value="Portugués">Portugués</option>
							<option value="Chino">Chino</option>
							<option value="Japonés">Japonés</option>
							<option value="Ruso">Ruso</option>
							<option value="Árabe">Árabe</option>
							<option value="Hindi">Hindi</option>
							<option value="Bengalí">Bengalí</option>
							<option value="Coreano">Coreano</option>
							<option value="Holandés">Holandés</option>
							<option value="Polaco">Polaco</option>
							<option value="Sueco">Sueco</option>
							<option value="Turco">Turco</option>
							<option value="Hebreo">Hebreo</option>
							<option value="Noruego">Noruego</option>
							<option value="Danés">Danés</option>
							<option value="Finlandés">Finlandés</option>
							<option value="Griego">Griego</option>
							<option value="Indonesio">Indonesio</option>
							<option value="Malayo">Malayo</option>
							<option value="Thai">Thai</option>
							<option value="Vietnamita">Vietnamita</option>
							<option value="Swahili">Swahili</option>
							<option value="Tagalo">Tagalo</option>
							<option value="Persa">Persa</option>
							<option value="Ucraniano">Ucraniano</option>
							<option value="Checo">Checo</option>
							<option value="Eslovaco">Eslovaco</option>
							<option value="Búlgaro">Búlgaro</option>
							<option value="Croata">Croata</option>
							<option value="Serbio">Serbio</option>
							<option value="Lituano">Lituano</option>
							<option value="Letón">Letón</option>
							<option value="Estonio">Estonio</option>
							<option value="Macedonio">Macedonio</option>
							<option value="Armenio">Armenio</option>
							<option value="Georgiano">Georgiano</option>
							<option value="Swahili">Swahili</option>
							<option value="Amárico">Amárico</option>
							<option value="Zulú">Zulú</option>
							<option value="Frisón">Frisón</option>
							<option value="Luxemburgués">Luxemburgués</option>
						</select>
					</div>
					<div class="form-group text-center">
						<button type="submit" class="btn btn-success">Guardar</button>
						<a th:unless="${fuera}" style="margin-left: 10%;" onclick="window.history.back()"
							class="btn btn-secondary">Volver</a>
						<th:block th:if="${fuera}">
							<span>Si estás registrado <a th:href="@{/login}">inicia sesión aquí</a></span>
						</th:block>
					</div>
				</form>

			</div>
		</div>
	</div>
	
	<script>
			
			function fechabase(){
			
			var today = new Date().toISOString().slice(0, 10);
			document.getElementById('fecha_publicacion').value = today;
			
			}
			
		</script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>